# Сканер Википедии

CLI утилита, которая:
1) Получает на вход ссылку на статью в википедии.
2) Парсит полученную на вход страницу и ищет на ней ссылки на другие статьи в википедии
3) Собирает их и записывает в базу SQLite.
4) Открывает полученные ссылки, ищет на них новые ссылки на другие статьи
5) Записывает в базу
6) Пункты `4` и `5` повторяются, пока глубина поиска не достигнет 6.
7) Все сохранённые ссылки в базе - уникальные

Примечание:
- Язык выполнения `python3.12`
- Используются только инструменты стандартной библиотеки 
- Код типизирован (используется аннотации типов)
- Код декомпозирован 
- Данный код покрыт тестами
- Реализована псевдо ассинхронность через `asyncio` и `loop.run_in_executor()` (_так как `aiohttp` не входит в стандартную библиотеку_)

## Запуск

```bash
python3 src/main.py [-h] [--db-path DB_PATH] [--depth DEPTH] START_URL

```

После запуска в директории проекта создаётся база данных по умолчанию: `Wikipedia_Links.db` и туда происходит запись всех найденных ссылок

## [Википедия:Перенаправления](https://ru.wikipedia.org/wiki/%D0%92%D0%B8%D0%BA%D0%B8%D0%BF%D0%B5%D0%B4%D0%B8%D1%8F:%D0%9F%D0%B5%D1%80%D0%B5%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F)

Перенаправления происхоят через сам сервис, поэтому обработка происходит следующим образом:
1) После того, как найдены все ссылки на страницы на данной странице, посылаются запросы на каждую из найденных ссылок но с параметром `redirect=no`.
2) Если на странице находится ссылка, на которую нас переправят, то записываем найденную ссылку вместо нашей.
